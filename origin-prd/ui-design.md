这是一个基于你的需求文档设计的 `hyper-scheduler` 调试面板 (DevTools) 的 UI 概念图和设计说明。

设计原则是 **“专业、紧凑、信息密度高”**，类似 Chrome DevTools 的风格，确保在不干扰宿主页面布局的情况下提供最大的调试能力。

-----

### 1\. UI 整体结构与入口

调试面板是一个独立的 Web Component，通常以一个不起眼的悬浮球开始，点击后展开为主面板。

#### 1.1 入口悬浮球 (Floating Trigger)

默认位于屏幕右下角，半透明，不遮挡内容。

```
[🕒]  <- 鼠标悬停时显示提示 "Hyper Scheduler (Ctrl+H)"
```

#### 1.2 主面板容器 (Main Panel Container)

点击悬浮球后，从屏幕一侧（默认右侧）滑出或弹出一个可拖拽、可调整大小的面板。

面板分为三个主要区域：
A. **顶部导航与状态栏 (Header & Status Bar)**
B. **核心内容视图区域 (Content View Area)** - 通过 Tab 切换
C. **底部信息栏 (Footer Bar)**

-----

### 2\. 详细 UI 视图设计

#### 视图 A: 顶部导航与全局状态栏 (Header & Global Stats)

此区域始终可见，提供全局概览和通用控制。

```
+-----------------------------------------------------------------------------------+
|  🕒 Hyper Scheduler DevTools      [Search IDs/Tags... 🔍]      🔆/🌙 [✕] Close  |
+-----------------------------------------------------------------------------------+
|  📊 Status:  🟢 Active: 8   ⚪ Total: 12   ⚡ FPS: 58 (Main Thread)               |
+-----------------------------------------------------------------------------------+
|  [📌 Tasks List]  [📈 Timeline]  [⚙️ Settings]                                    |
+-----------------------------------------------------------------------------------+
```

**设计说明：**

  * **FPS 监控**：特别强调了文档中提到的“主线程 FPS”，用颜色编码（\>=50 绿色，30-50 黄色，\<30 红色），帮助开发者判断是否是主线程阻塞导致的任务延迟。
  * **全局搜索**：快速过滤特定的任务 ID 或 Tag。
  * **主题切换 (🔆/🌙)**：对应配置项中的 `theme`，支持手动切换深色/浅色模式。

#### 视图 B-1: 任务列表视图 (Tasks List View) - 核心功能

这是默认视图，展示所有任务的快照。采用紧凑的数据表格形式。

```
+---------------------------------------------------------------------------------------------------------------+
| ID / Tags                 | Status | Interval   | Count | Last Run  | Actions                                 |
+---------------------------------------------------------------------------------------------------------------+
| heartbeat-001             | 🟢 Run | 1000ms     | 1,245 | 200ms ago | [▶️ Trigger] [⏸️ Pause] [🗑️]            |
| [mytag] [core]            |        |            |       |           |                                         |
+---------------------------------------------------------------------------------------------------------------+
| data-poller-user          | 🟡 Paus| */5 * *... | 45    | 5m ago    | [▶️ Trigger] [▶️ Resume] [🗑️]           |
| [api] [polling]           |        | (Cron)     |       |           |                                         |
+---------------------------------------------------------------------------------------------------------------+
| cleanup-temp-files        | 🔴 Stop| 30m        | 2     | 1h ago    | [▶️ Trigger] [▶️ Start ] [🗑️]           |
| (No Tags)                 |        |            |       |           |                                         |
+---------------------------------------------------------------------------------------------------------------+
| ... (更多任务)                                                                                                |
+---------------------------------------------------------------------------------------------------------------+
| ✨ Tip: 点击某一行可查看该任务的详细历史记录 (History Log)                                                      |
+---------------------------------------------------------------------------------------------------------------+
```

**设计说明：**

  * **Status 列**：使用图标+文字直观展示状态 (Running/Paused/Stopped)。
  * **ID / Tags**：ID 加粗显示，Tags 以小标签(Pills)形式显示在下方，方便辨识。
  * **Actions 列**：这是交互的核心。
      * **`▶️ Trigger` (手动触发)**：对应需求中的 "Manual Trigger"，最常用的调试功能，忽略间隔立即执行一次。
      * **Start/Pause/Resume**：根据当前状态动态变化的按钮。
      * **`🗑️` (Remove)**：彻底删除任务。
  * **交互**：点击表格的某一行，应在侧边或下方展开该任务的 **“详情与历史面板”** (见下文)。

#### 视图 B-1.1: 任务详情与历史面板 (Drill-down Detail Panel)

当在列表中点击某个任务（例如 `heartbeat-001`）时出现的详情视图，用于分析单个任务的性能。

```
+-----------------------------------------------------------------------------------+
| ⬅️ Back | 📂 Task Details: heartbeat-001                                          |
+-----------------------------------------------------------------------------------+
| Config: { interval: 1000, driver: 'worker', retry: 0, maxDrift: 50 }              |
+-----------------------------------------------------------------------------------+
| 📜 Execution History (Last 50 runs) - Avg Duration: 4ms                           |
+-----------------------------------------------------------------------------------+
| #    | Start Time      | Duration | Drift (偏差) | Status                         |
+-----------------------------------------------------------------------------------+
| 1245 | 10:30:45.102    | 5ms      | +2ms         | ✅ Success                     |
| 1244 | 10:30:44.100    | 3ms      | 0ms          | ✅ Success                     |
| 1243 | 10:30:43.105    | 12ms     | +5ms         | ⚠️ Slow Exec                   |
| 1242 | 10:30:42.000    | -        | -            | ❌ Error: Network timeout      |
+-----------------------------------------------------------------------------------+
```

**设计说明：**

  * 展示配置项快照。
  * **History Log**：对应配置中的 `maxHistory`。记录最近 N 次的执行情况。
  * **性能指标**：显示“耗时(Duration)”和“时间漂移(Drift)”，帮助判断任务是否过重或调度是否准确。

#### 视图 B-2: 时间轴视图 (Timeline View)

可视化任务触发的密集程度和并发情况。

```
+-----------------------------------------------------------------------------------+
| [📌 Tasks List]  [📈 Timeline]  [⚙️ Settings]               Zoom: [-] ----O---- [+] |
+-----------------------------------------------------------------------------------+
| Time Range: Last 1 Minute                                                         |
|                                                                                   |
| 10:30:00           10:30:15           10:30:30           10:30:45                 |
| |------------------|------------------|------------------|------------------|     |
|                                                                                   |
| heartbeat-001 [W]  •    •    •    •    •    •    •    •    •    •    •    •       |
| data-poller   [M]  |-------| (Long task)                 •         •              |
| cleanup-task  [W]                                        •                        |
|                                                                                   |
| Legend: • Instant  |---| Duration  [W] Worker Driver  [M] Main Driver             |
+-----------------------------------------------------------------------------------+
```

**设计说明：**

  * 类似于浏览器 Performance 面板的简化版。
  * Y 轴是任务 ID，X 轴是时间。
  * 使用点 (•) 表示瞬间完成的任务，使用条形块 (|---|) 表示耗时较长的任务。
  * 可以直观地看到哪些任务在同时运行，是否存在过于密集的调度。

-----

### 3\. 交互与样式细节摘要

| 功能点 | 设计细节 |
| :--- | :--- |
| **主题色** | 严格遵循深色/浅色模式。深色模式下使用深灰背景和亮色文字，避免纯黑对比过高。 |
| **快捷键** | 面板底部或悬浮球的 Tooltip 提示 `Ctrl+H` (可配置)。支持按 `ESC` 关闭面板。 |
| **响应式** | 面板宽度应可拖拽调整。在窄屏下，列表视图的一些次要列（如 Last Run）可以隐藏。 |
| **数据刷新** | 界面应根据 `refreshRate` (默认 500ms) 自动节流刷新数据，避免 DevTools 本身占用过多资源。状态变化（如 Running -\> Paused）需要有即时的视觉反馈动画。 |
| **无干扰** | 使用 Shadow DOM 隔离样式，确保 DevTools 的 CSS 不会污染宿主页面。 |

这个设计方案旨在提供一个功能完备、操作直观的调试环境，充分满足了文档中提到的可视化监控、手动触发、性能分析等核心需求。